+++
title = "Из чего складывается сцена укрытия"
description = ""
weight = 1
+++

#### Введение
Этот список контрольных точек должен помочь вам в создании сцен укрытия и дать вам представление о том, на что мы обращаем внимание при их создании. В отличие от многих других наших сцен, укрытия используются только для боевых задач и обычно имеют очень строгую одностороннюю планировку.

#### Сетка навигации
* [Работает аналогично деревенским сценам.](http://docs.modding.bannerlord.com/authoring-mission-scenes/villages/#navigation-mesh)
* Нет необходимости иметь специальные идентификаторы на дорожках или возле вольеров для животных.
* Позаботьтесь о том, чтобы правильно определить затраты навигационных сеток за пределами пути, чтобы ИИ не бегал резко по скалам или бежал по пересеченной местности, такой как болота, леса и т.д.

#### Точки появления
##### Основное
* Не используйте появление животных

##### Компания игрока
* Префаб войск: **sp_hideout_group_attacker**.
* Префаб игрока: **sp_player**.
* Вам понадобится точка входа в битву для группы игроков. Убедитесь, что вокруг него достаточно места для появления других атакующих войск.

![](/img/hideout_scenes/hideout_scenes_1.png)

##### Район бандитов
* Сцены укрытия - это, по сути, набор из нескольких зон бандитов.
* Размещение этих позиций в линейном расположении, как правило, является лучшей идеей, чтобы игроки не возвращались назад или полностью игнорировали позицию в целом.
* Игрокам необходимо очистить все позиции, чтобы битва закончилась.
* Каждая сцена убежища должна содержать от 6 до 8 позиций common_area.
	* Префаб: **common_area_x**.
	* Группа обороняющихся бандитов будет разделена между этими позициями.
	* Не каждая позиция всегда защищается (если количество защитников невелико).
	* Убедитесь, что между ними есть разумный интервал.
		* Расположение близко друг к другу может заставить агентов защиты с обеих позиций атаковать игрока, когда они приближаются.
		* Если они находятся слишком далеко друг от друга, миссия теряет темп.
		* Имейте в виду, что войска в большинстве кампаний, вероятно, будут иметь более высокую атлетику, чем игрок, поэтому бегут быстрее.
	* Вы можете увеличить радиус появления юнитов, масштабируя prefab общей области.
	* Убедитесь, что есть указание на то, где могут находиться защищающиеся отряды, чтобы у игрока был шанс их найти (особенно ночью).

![](/img/hideout_scenes/hideout_scenes_2.png)

* Иметь от 10 до 15 точек появления на общую площадь.
	* Используйте точки появления **sp_npc_x**. Но не заставляйте их заниматься такими делами, как сельское хозяйство или кузнечное дело.
	* Используйте точки гражданской анимации в качестве точек возрождения бандитов. Несколько примеров:  “**sp_npc_wait_wall, lookout, sp_npc_argue_set, sp_npc_wait**”.
	* Все точки появления в радиусе будут порождать бандитов.

![](/img/hideout_scenes/hideout_scenes_3.png)

* Вы также можете использовать патрульные точки появления: “**sp_guard_patrol_simple, sp_guard_patrol**”.
	* У них есть шанс создать бандитов.
	* Может использоваться за пределами общей зоны.

##### Битва с главарём

![](/img/hideout_scenes/hideout_scenes_4.png)

* Префаб: **hideout_boss_fight**.
* В конце каждой миссии в Убежище происходит битва с боссом.
* Положение его должно быть внутри последней Бандитской зоны (common_area). Убедитесь, что игрок, скорее всего, окажется там в обычной боевой миссии, чтобы он не телепортировался по карте в совершенно другую область.
* Как работает битва с боссом:
	* Обе стороны появляются в своих позициях внешнего радиуса.
	* Затем они движутся навстречу друг другу вплоть до положений внутреннего радиуса.
	* Вы можете отрегулировать расстояние между внешним и внутренним радиусами с помощью свойства «WalkDistance» префаба.
* Внутри префаба вы можете переключать предварительный просмотр позиций.
* Убедитесь, что путь между этими позициями свободен для обеих сторон.
* Также убедитесь, что камера находится не слишком близко к другим объектам.
	* Вы не можете настроить камеру в редакторе, вам нужно будет протестировать сцену для этого.
	* Держите большие префабы за пределами области, показанной при предварительном просмотре, и все будет в порядке.

#### Мягкие границы
* [Работает так же, как и с деревенскими сценами.](http://docs.modding.bannerlord.com/authoring-mission-scenes/villages/#soft-border)

#### Звук
* [Работает так же, как и с деревенскими сценами.](http://docs.modding.bannerlord.com/authoring-mission-scenes/villages/#sounds)
* Убедитесь, что вы не используете звуки с элементами гражданской жизни (например, болтовня или городские звуки).

#### Свет
* [Работает так же, как и с деревенскими сценами.](http://docs.modding.bannerlord.com/authoring-mission-scenes/villages/#lights)
* Позаботьтесь о том, чтобы ваша сцена правильно работала ночью.
* Разместите достаточное количество факелов вдоль дорожек и осветите бандитские районы.

![](/img/hideout_scenes/hideout_scenes_5.png)

#### Атмосфера
* [Работает так же, как и с деревенскими сценами.](http://docs.modding.bannerlord.com/authoring-mission-scenes/villages/#atmosphere)

#### Подсказка по игровому дизайну
Вы должны помнить следующие советы, чтобы обеспечить правильный игровой процесс вашего убежища.

* **Используйте линейный макет**. Предоставление игрокам множества вариантов выбора путей и изучения вашей сцены само по себе - неплохая вещь. Однако имейте в виду, что миссия задумана как линейная. Бандиты могут появляться или не появляться в бандитских зонах или на путях патрулирования. Если ваша сцена слишком сильно разветвляется, игрок может оказаться, что не знает, где может быть следующая область бандитов, или может быть вынужден вернуться в сцену, чтобы найти оставшихся бандитов.
* Только если все бандиты будут убиты, миссия будет успешной. **Ваша первоочередная задача - убедиться, что игрок их найдет**. Потратьте больше времени и деталей на навигационную сетку на дорожках и на местах, где будут происходить бои.
* **Убедитесь, что сцена плотная**, чтобы игрок случайно не обошел бандитские зоны. Лучше всего ограничивать сцену непроходимыми опорами, такими как скалы, а не искусственными мягкими границами.
* **Убедитесь, что сцена хорошо работает ночью**. Может показаться немного нелогичным, что бандиты поджигали сотни костров, чтобы осветить свое убежище, но игроки будут благодарить вас за то, что вы помогли им с ними.
* **Будьте особенно внимательны, чтобы место боя с бандитским боссом было великолепным**. Это одна из немногих позиций, на которых вы можете быть уверены, что игрок всегда будет сражаться. Также убедитесь, что место боя с бандитским боссом близко к вашей последней ожидаемой боевой позиции.
* **Сосредоточьтесь на повествовании об окружающей среде вокруг дорожек и внутри бандитских территорий**. Поскольку в этой миссии нет гражданской части, у игроков не будет много времени, чтобы исследовать сцену вдали от тропинок.

![](/img/hideout_scenes/hideout_scenes_6.png)